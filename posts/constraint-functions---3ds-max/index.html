<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="generator" content="Hugo 0.18.1" />

  <title>PEPETD</title>
  
  <link rel="canonical" href="https://felipenogueira3d.com/posts/constraint-functions---3ds-max/" />
  <link rel="stylesheet" href="https://felipenogueira3d.com/assets/main.bundle.css" />
</head>
<body>
  <div class="Header" role="banner">
    <div class="layout-widthDefault">
      <div class="SiteNav u-mt8">
  <ul class="SiteNav-links" role="navigation" aria-label="site navigation">
    
      <li class="SiteNav-item">
        <a class="SiteNav-link" href="/" title="Blog">Blog</a>
      </li>
    
      <li class="SiteNav-item">
        <a class="SiteNav-link" href="/projects" title="Projects">Projects</a>
      </li>
    
      <li class="SiteNav-item">
        <a class="SiteNav-link" href="/categories/development" title="Development">Development</a>
      </li>
    
      <li class="SiteNav-item">
        <a class="SiteNav-link" href="/categories/tutorials" title="Tutorials">Tutorials</a>
      </li>
    
      <li class="SiteNav-item">
        <a class="SiteNav-link" href="/demo-reel" title="Demo Reel">Demo Reel</a>
      </li>
    
      <li class="SiteNav-item">
        <a class="SiteNav-link" href="/about" title="About">About</a>
      </li>
    
  </ul>
</div>
      <div class="Header-branding u-mt8">
  
    <a class="Header-brandingText" href="https://felipenogueira3d.com/" title="PEPETD">PEPETD</a> 
  
</div>
      <div class="SocialNav">
  <ul class="SocialNav-links" role="navigation" aria-label="social navigation">
    
      <li class="SocialNav-item">
        <a class="SocialNav-link" href="https://twitter.com/pepetd3d" title="Twitter">
          <i class="fa fa-twitter" aria-hidden="true"></i>
        </a>
      </li>
    
    
      <li class="SocialNav-item">
        <a class="SocialNav-link" href="https://github.com/pepetd" title="GitHub">
          <i class="fa fa-github-alt" aria-hidden="true"></i>
        </a>
      </li>
    
    
      <li class="SocialNav-item">
        <a class="SocialNav-link" href="https://www.youtube.com/user/TheDragoon" title="YouTube">
          <i class="fa fa-youtube-play" aria-hidden="true"></i>
        </a>
      </li>
    
    
      <li class="SocialNav-item">
        <a class="SocialNav-link" href="https://vimeo.com/pepetd" title="Vimeo">
          <i class="fa fa-vimeo" aria-hidden="true"></i>
        </a>
      </li>
    
    
    
      <li class="SocialNav-item">
        <a class="SocialNav-link" href="http://www.linkedin.com/in/pepetd" title="LinkedIn">
          <i class="fa fa-linkedin" aria-hidden="true"></i>
        </a>
      </li>
    
    
      <li class="SocialNav-item">
        <a class="SocialNav-link" href="mailto:felipe@felipenogueira3d.com" title="Email">
          <i class="fa fa-envelope" aria-hidden="true"></i>
        </a>
      </li>
    
  </ul>
</div>

    </div>
  </div>


<div role="main">
  <div class="layout-widthDefault">
    <h1 class="Title u-mt16 u-mb0"><span class="Title-text">Constraint Functions - 3DS Max</span></h1>

<ul class="MetaData">
  <li class="MetaData-item">
    <i class="fa fa-calendar-o" aria-hidden="true"></i>
    <span>March 22, 2015</span>
  </li>
  <li class="MetaData-item">
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>
    <span>
  
  
  
  <a href="/categories/development">development</a>
</span>
  </li>
  <li class="MetaData-item">
    <i class="fa fa-tags" aria-hidden="true"></i>
    <span>
  
  
  
  <a href="/tags/3dsmax">3dsmax</a>, <a href="/tags/development">development</a>, <a href="/tags/maxscript">maxscript</a>, <a href="/tags/snippets">snippets</a>
</span>
  </li>
  <li class="MetaData-item">
    <i class="fa fa-clock-o" aria-hidden="true"></i>
    <span>3 min read</span>
  </li>
</ul>

<div class="markdown-text u-mt16">
  <p>In the past years I started creating my own library of functions and scripts that would automate a lot of the processes that I often use when rigging characters to speed up the rigging process even more.</p>

<p>I have so many rigging functions that one day I realized I could create an entire humanoid rig in a matter of minutes by using all these functions as long as I had a skeleton created.</p>

<p>In time I will be releasing a function library for all of you to check it out, meanwhile, here is a little preview of some of the functions I use often, the Look-At constraint could use more work but the Position Constraint, Orientation Constraint and Path Constraint Functions are perfect for pretty much anything that I would use them for.</p>
-- Position Constraint
-- PosConst (Affected Node) (Target Node) (Target Weight)
-- (newCon:true if fresh constrain, false if adding target to existing constrain)
fn PosConst obj target tarWeight newCon:true =
(
    if newCon == true then
    (
        Pc = Position_Constraint()
        obj.pos.controller.available.controller = Pc
        posConstraint = Pc.constraints
        posConstraint.appendtarget target tarWeight
    )
    else
    (
        obj.position.controller.Position_Constraint.appendtarget target tarWeight
    )
    obj.pos.controller.setactive 3
)

-- Look-At Constraint
-- LookConst (Affected Node) (Target Node) (upNode:UpNode Node) (Target Weight)
-- (newCon:true if fresh constrain, false if adding target to existing constrain)
fn LookConst obj target upNode tarWeight newCon:true =
(
    if newCon == true then
    (
        Lc = LookAt_Constraint()
        obj.rotation.controller.available.controller = Lc
        locConstraint = Lc.constraints
        locConstraint.appendtarget target tarWeight
        Lc.upnode_world = false
        Lc.pickUpNode = upNode
        Lc.lookat_vector_length = 0
    )
    else
    (
        obj.rotation.controller.LookAt_Constraint.appendtarget target tarWeight
    )
    obj.rotation.controller.setactive 3
)

-- Orientation Constraint
-- OrientConst (Affected Node) (Target Node) (Target Weight) (keepOff: keep off-set True or False)
-- (newCon:true if fresh constrain, false if adding target to existing constrain)
fn OrientConst obj target tarWeight keepOff:false newCon:true =
(
    if newCon == true then
    (
        Oc = Orientation_Constraint()
        obj.rotation.controller.available.controller = Oc
        orientConstraint = Oc.constraints
        orientConstraint.appendtarget target tarWeight
        Oc.relative = keepOff
    )
    else
    (
        obj.rotation.controller.Orientation_Constraint.appendtarget target tarWeight
    )
    obj.rotation.controller.setactive 3
)

-- Path Constraint
-- PathConst (Affected Node) (Target Node) (Target weight) (Percent on path)
fn PathConst obj target tarWeight percent =
(
    Pc = Path_Constraint()
    obj.pos.controller.available.controller = Pc
    Pc.path = target
    deletekeys obj
    Pc.follow = true
    Pc.percent = percent
    obj.pos.controller.setactive 3
)


-- Freeze Transform -- Function created by Mathieson Facer.
-- FreezeTransform (Obj to Freeze)
fn FreezeTransform Obj =
(
    local curObj = Obj
    if classof CurObj.rotation.controller != Rotation_Layer do
    (
        -- freeze rotation
        curObj.rotation.controller = Euler_Xyz()
        curObj.rotation.controller = Rotation_list()
        curObj.rotation.controller.available.controller = Euler_xyz()

        /* "Localization on" */
        CurObj.rotation.controller.setname 1 "Frozen Rotation"
        CurObj.rotation.controller.setname 2 "Zero Euler XYZ"

        /* "Localization off" */
        CurObj.rotation.controller.SetActive 2
    )

    if classof CurObj.position.controller != Position_Layer do
    (
        -- freeze position
        CurObj.position.controller = Bezier_Position()
        CurObj.position.controller = position_list()
        CurObj.position.controller.available.controller = Position_XYZ()

        /* "Localization on" */
        CurObj.position.controller.setname 1 "Frozen Position"
        CurObj.position.controller.setname 2 "Zero Pos XYZ"

        /* "Localization off" */
        CurObj.position.controller.SetActive 2

        -- position to zero
        CurObj.Position.controller[2].x_Position = 0
        CurObj.Position.controller[2].y_Position = 0
        CurObj.Position.controller[2].z_Position = 0
    )
)

</div>

<div class="disqus-comments u-mt16">
  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'disqus_short_name';
    var disqus_identifier = 'https:\/\/felipenogueira3d.com\/posts\/constraint-functions---3ds-max\/';
    var disqus_title = 'Constraint Functions - 3DS Max';
    var disqus_url = 'https:\/\/felipenogueira3d.com\/posts\/constraint-functions---3ds-max\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
  </div>
</div>

  <div class="Footer" role="contentinfo">
    <div class="layout-widthDefault">
      <div class="Footer-inner u-mt16 u-mb16">
        <ul class="Footer-links" role="navigation" aria-label="footer navigation">
          <li class="Footer-item">
            <a class="Footer-link" href="https://felipenogueira3d.com/index.xml" title="RSS"><i class="fa fa-rss" aria-hidden="true"></i></a>
          </li>
          <li class="Footer-item">
            <a class="Footer-link" href="/posts" title="Posts"><i class="fa fa-archive" aria-hidden="true"></i></a>
          </li>
        </ul>
        <span class="Footer-copy">Copyright &copy; 2017 by felipenogueira3d.com, All Rights Reserved.</span>
      </div>
    </div>
  </div>
  <script src="https://felipenogueira3d.com/assets/vendor.bundle.js"></script>
  <script src="https://felipenogueira3d.com/assets/main.bundle.js"></script>
</body>
</html>