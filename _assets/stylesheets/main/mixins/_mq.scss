@mixin mq( $breakpoints... ) {

  @if length( $breakpoints ) == 1 {
    $breakpoints: nth( $breakpoints, 1 );
  }

  @if type-of( $breakpoints ) == 'map' {
    $mq-conditions: '';

    @each $type, $value in $breakpoints {
      $mq-conditions: str-insert( $mq-conditions, 'and (#{$type}: #{$value})', -1);
    }

    @media screen #{$mq-conditions} {
      @content;
    }

  }

  @else {
    $mq-width: $breakpoints;
    $prefix: 'min';

    @if length( $breakpoints ) >= 2 {
      $mq-width: nth( $breakpoints, 1 );
      $prefix: nth( $breakpoints, 2 );
    }

    @else if length( $breakpoints ) > 2 {
      @warn "Too many arguments passed: mq(#{$breakpoints})";
    }

    @if unitless( $mq-width ) {
      $mq-width: $mq-width * 1px;
    }

    @media screen and (#{$prefix}-width: $mq-width) {
      @content;
    }
  }

}
